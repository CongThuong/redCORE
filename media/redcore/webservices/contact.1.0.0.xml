<?xml version="1.0" ?>
<apiservice type="hal">
    <name>Contact Webservice</name>
    <author>redCOMPONENT</author>
    <copyright>Copyright (C) 2008 - 2014 redCOMPONENT.com. All rights reserved.</copyright>
    <description>Api HAL configuration for Joomla Contact component</description>
    <config>
        <!-- This will be used for automatic model and table instance in CRUD methods and for Api helper class -->
        <name>contact</name>
        <version>1.0.0</version>
        <!-- Documentation can be included from various sources:
            auto: documentation is auto generated using this XML as template
            href: documentation will be loaded from fixed url using url="http://www.sample.com"
            none: documentation will not be included in methods Rels (not recommended)
             -->
        <documentation authorizationNeeded="false" source="auto" />
    </config>

    <!-- Resource definition -->
    <!-- Resources can be grouped with "resourceSpecific" attribute, default value is "rcwsGlobal" -->
    <resources>
        <resource displayName="alias" fieldFormat="{alias}" transform="string" />
        <resource displayName="created" fieldFormat="{created}" transform="datetime" />
        <resource displayName="checked_out" fieldFormat="{checked_out}" transform="int" />
        <resource displayName="checked_out_time" fieldFormat="{checked_out_time}" transform="datetime" />
        <resource displayName="hits" fieldFormat="{hits}" transform="int" />
        <resource displayName="revision" fieldFormat="{version}" transform="int" />

        <resource displayGroup="_links" displayName="curies" fieldFormat="http://docs.joomla.org/Link_relations/{rel}" linkName="joomla" hrefLang="" linkTemplated="true" />
        <resource displayGroup="_links" displayName="self" fieldFormat="/index.php?option=contact&amp;id={id}" />
        <resource displayGroup="_links" displayName="categories" fieldFormat="/index.php?option=categories&amp;id={catid}" />
        <resource displayGroup="_links" displayName="checkin" fieldFormat="/index.php?option=contact&amp;id={id}&amp;task=checkin" />
        <resource displayGroup="_links" displayName="checkout" fieldFormat="/index.php?option=contact&amp;id={id}&amp;task=checkout" />
        <resource displayGroup="_links" displayName="featured" fieldFormat="/index.php?option=contact&amp;id={id}&amp;task=featured" />
        <resource displayGroup="_links" displayName="unfeatured" fieldFormat="/index.php?option=contact&amp;id={id}&amp;task=unfeatured" />
        <resource displayGroup="_links" displayName="publish" fieldFormat="/index.php?option=contact&amp;id={id}&amp;task=publish" />
        <resource displayGroup="_links" displayName="unpublish" fieldFormat="/index.php?option=contact&amp;id={id}&amp;task=unpublish" />
        <resource displayGroup="_links" displayName="createdBy" fieldFormat="/index.php?option=users&amp;id={created_by}" />
        <resource displayGroup="_links" displayName="modifiedBy" fieldFormat="/index.php?option=users&amp;id={modified_by}" />

        <resource displayName="apiVersion" fieldFormat="{apiVersion}" transform="string" />
        <resource displayName="description" fieldFormat="{metadesc}" transform="string" />
        <resource displayName="keywords" fieldFormat="{metakey}" transform="string" />
        <resource displayName="robots" fieldFormat="{metadata.robots}" transform="string" />
        <resource displayName="rights" fieldFormat="{metadata.rights}" transform="string" />
        <resource displayName="xref" fieldFormat="{xreference}" transform="string" />

        <resource displayName="result" fieldFormat="{result}" transform="boolean" />
    </resources>
    <operations>
        <!-- If operation is commented out or missing, it will not be possible to use it -->
        <!-- Authorization tag is optional and default value is True. If set to False, No OAuth2 authorization will be required -->
        <read authorizationNeeded="false">
            <!-- If fromHelper is set to true it will run query on web service helper class -->
            <!-- Api will automatically call getListQuery if queryFunctionList is not specified -->
            <!-- Api will automatically call ExampleModelElements if className is not specified -->
            <list fromHelper="false" optionName="com_contact" className="contacts" classPath="" isAdminClass="true" getDataFunction="">

                <!-- Enable or disable fields to read. If left empty, all fields will be available -->
                <fields>
                    <field transform="string">name</field>
                    <!-- Disable specific fields from showing -->
                    <field hide="true">checked_out</field>
                </fields>
                <resources>
                    <!-- meta data -->
                    <resource displayName="page" fieldFormat="{pagination.page}" transform="int" />
                    <resource displayName="pageLimit" fieldFormat="{pagination.limit}" transform="int" />
                    <resource displayName="limitstart" fieldFormat="{pagination.limitstart}" transform="int" />
                    <resource displayName="totalItems" fieldFormat="{pagination.totalItems}" transform="int" />
                    <resource displayName="totalPages" fieldFormat="{pagination.totalPages}" transform="int" />

                    <!-- items -->
                    <resource resourceSpecific="listItem" displayName="id" fieldFormat="{id}" transform="int" />
                    <resource resourceSpecific="listItem" displayName="access" fieldFormat="{access}" transform="int" />
                    <resource resourceSpecific="listItem" displayName="featured" fieldFormat="{featured}" transform="int" />
                    <resource resourceSpecific="listItem" displayName="language" fieldFormat="{language}" />
                    <resource resourceSpecific="listItem" displayName="name" fieldFormat="{name}" />
                    <resource resourceSpecific="listItem" displayName="ordering" fieldFormat="{ordering}" transform="int" />
                    <resource resourceSpecific="listItem" displayGroup="_links" displayName="self" fieldFormat="/index.php?option=contact&amp;id={id}" />
                    <resource resourceSpecific="listItem" displayGroup="_links" displayName="categories" fieldFormat="/index.php?option=categories&amp;id={catid}" />

                    <!-- _links -->
                    <resource displayName="self" fieldFormat="/index.php?option=contact" />
                    <resource displayGroup="_links" displayName="first" fieldFormat="/index.php?option=contact&amp;limitstart=0" />
                    <resource displayGroup="_links" displayName="previous" fieldFormat="/index.php?option=contact&amp;limitstart={pagination.previous}" />
                    <resource displayGroup="_links" displayName="next" fieldFormat="/index.php?option=contact&amp;limitstart={pagination.next}" />
                    <resource displayGroup="_links" displayName="last" fieldFormat="/index.php?option=contact&amp;limitstart={pagination.last}" />
                    <resource displayGroup="_links" displayName="all" fieldFormat="/index.php?option=contact&amp;limit=0" />
                    <resource displayGroup="_links" displayName="limit" fieldFormat="/index.php?option=contact&amp;limit={limit}&amp;limitstart={limitstart}" linkTemplated="true" />
                    <resource displayGroup="_links" displayName="filter" fieldFormat="/index.php?option=contact&amp;filter_search={filter_search}" linkTemplated="true" />
                </resources>
            </list>
            <!-- If fromHelper is set to true it will run query on webservice helper class -->
            <!-- Api will automatically call getItem if queryFunction is not specified -->
            <!-- Api will automatically call ExampleModelElement if className is not specified -->
            <item fromHelper="false" optionName="com_contact" className="" classPath="" isAdminClass="true" queryFunction="">

                <!-- Enable or disable fields to read. If left empty, all fields will be available -->
                <fields>
                    <field transform="string">name</field>
                    <!-- Disable specific fields from showing -->
                    <field hide="true">checked_out</field>
                </fields>

                <resources>
                    <!-- standard -->
                    <resource displayName="id" fieldFormat="{id}" transform="int" />
                    <resource displayName="name" fieldFormat="{name}" />
                    <resource displayName="alias" />
                    <resource displayName="con_position" fieldFormat="{con_position}" />
                    <resource displayName="address" fieldFormat="{address}" />
                    <resource displayName="suburb" fieldFormat="{suburb}" />
                    <resource displayName="state" fieldFormat="{state}" />
                    <resource displayName="country" fieldFormat="{country}" />
                    <resource displayName="postcode" fieldFormat="{postcode}" />
                    <resource displayName="telephone" fieldFormat="{telephone}" />
                    <resource displayName="fax" fieldFormat="{fax}" />
                    <resource displayName="misc" fieldFormat="{misc}" />
                    <resource displayName="image" fieldFormat="{image}" />
                    <resource displayName="email_to" fieldFormat="{email_to}" />
                    <resource displayName="default_con" fieldFormat="{default_con}" transform="int" />
                    <resource displayName="published" fieldFormat="{published}" transform="int" />
                    <resource displayName="checked_out" fieldFormat="{checked_out}" transform="int" />
                    <resource displayName="checked_out_time" fieldFormat="{checked_out_time}" transform="datetime" />
                    <resource displayName="ordering" fieldFormat="{ordering}" transform="int" />
                    <resource displayName="params" fieldFormat="{params}" />
                    <resource displayName="user_id" fieldFormat="{user_id}" transform="int" />
                    <resource displayName="catid" fieldFormat="{catid}" transform="int" />
                    <resource displayName="access" fieldFormat="{access}" transform="int" />
                    <resource displayName="mobile" fieldFormat="{mobile}" />
                    <resource displayName="webpage" fieldFormat="{webpage}" />
                    <resource displayName="sortname1" fieldFormat="{sortname1}" />
                    <resource displayName="sortname2" fieldFormat="{sortname2}" />
                    <resource displayName="sortname3" fieldFormat="{sortname3}" />
                    <resource displayName="language" fieldFormat="{language}" />
                    <resource displayName="created" />
                    <resource displayName="created_by" fieldFormat="{created_by}" transform="int" />
                    <resource displayName="modified" fieldFormat="{modified}" transform="datetime" />
                    <resource displayName="modified_by" fieldFormat="{modified_by}" transform="int" />
                    <resource displayName="metakey" fieldFormat="{metakey}" />
                    <resource displayName="metadesc" fieldFormat="{metadesc}" />
                    <resource displayName="metadata" fieldFormat="{metadata}" />
                    <resource displayName="featured" fieldFormat="{featured}" transform="int" />
                    <resource displayName="publish_up" fieldFormat="{publish_up}" transform="datetime" />
                    <resource displayName="publish_down" fieldFormat="{publish_down}" transform="datetime" />
                    <resource displayName="version" fieldFormat="{version}" />
                    <resource displayName="hits" fieldFormat="{hits}" transform="int" />

                    <!-- _links -->
                    <resource displayName="self" />
                    <resource displayName="categories" />
                    <resource displayName="checkout" />
                    <resource displayName="checkin" />
                    <resource displayName="featured" />
                    <resource displayName="unfeatured" />
                    <resource displayName="publish" />
                    <resource displayName="unpublish" />
                </resources>
            </item>
        </read>
        <create fromHelper="false" optionName="com_contact" className="" classPath="" isAdminClass="true" createDataFunction="">
            <fields>
                <!-- Fields can be defined here -->
                <field name="params" transform="array" />
            </fields>

            <resources>
                <resource displayName="result" />
                <resource displayName="self" />
            </resources>
        </create>
        <update authorizationNeeded="false" fromHelper="false" optionName="com_contact" className="" classPath="" isAdminClass="true" updateDataFunction="save">

            <resources>
                <resource displayName="result" />
                <resource displayName="self" />
            </resources>
        </update>
        <!-- Primary keys can be multiple if separated by comma, default primary Id is id -->
        <delete fromHelper="false" optionName="com_contact" className="" classPath="" isAdminClass="true" deleteDataFunction="" primaryKeys="id">

            <resources>
                <resource displayName="result" />
            </resources>
        </delete>
        <!-- Default class for all tasks if not otherwise specified -->
        <task fromHelper="false" optionName="com_contact" className="" classPath="" isAdminClass="true">

            <!-- Each task can be preformed in separate class and system will take this values instead -->
            <!-- If primaryKeys attribute is defined, only id will be passed to the function. Default is all posted data -->
            <!-- Standard functions supported by this api:
                -task-: -function-(-parameters-)
                featured: featured(id, value)
                unfeatured: featured(id, value)
                publish: publish(id, value)
                unpublish: publish(id, value)
                -->
            <featured fromHelper="false" optionName="com_contact" className="" classPath="" isAdminClass="true" functionName="" primaryKeys="id" displayName="Make contact featured">
                <description><![CDATA[ This task enables you to set specific Contact or Contacts as featured. ]]></description>
            </featured>

            <unfeatured optionName="com_contact" className="" classPath="" isAdminClass="true" functionName="" displayName="Make contact unfeatured">
                <description><![CDATA[ This task enables you to set specific Contact or Contacts as unfeatured. ]]></description>
            </unfeatured>

            <publish fromHelper="false" optionName="com_contact" className="" classPath="" isAdminClass="true" functionName="" primaryKeys="id" displayName="Make contact published">
                <description><![CDATA[ This task enables you to set specific Contact or Contacts as published. ]]></description>
            </publish>

            <unpublish optionName="com_contact" className="" classPath="" isAdminClass="true" functionName="" displayName="Make contact unpublished">
                <description><![CDATA[ This task enables you to set specific Contact or Contacts as unpublished. ]]></description>
            </unpublish>

            <!-- If using useOperation you can redirect that task operation to some of the existing ones: create, read, update, delete -->
            <save useOperation="update" />
            <apply useOperation="update" />
            <delete useOperation="delete" />

            <resources>
                <resource displayName="result" />
                <resource resourceSpecific="featured" displayName="result" />
            </resources>
        </task>
    </operations>
</apiservice>
